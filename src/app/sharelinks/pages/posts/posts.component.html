  
<!-- <p (click)="show()">salam</p> -->
<div style="padding: 25px 25px; margin-right: 10%;" *ngIf="didnMatchSearchValue">
  <div class="alert alert-success alert-dismissible">
    نتیجه یافت نشد.

  </div>
</div>
<div class="profile-content" >
   <!-- begin tab-content -->
   <div class="tab-content p-0">
      <!-- begin #profile-post tab -->
      <div class="tab-pane fade active show" id="profile-post">
         <!-- begin timeline -->
       
         <div *ngIf="username; else other_content">
         <ul class="timeline">


             
               <li *ngFor="let post of posts;let i =index">
                 
                 <div *ngFor="let user of username">
                   


                    <div *ngIf="post.userName===user">
                      <div *ngIf="!editing[post.id];else edited_mode">

                          <!-- begin timeline-time -->
                          <div class="timeline-time">
                            <span class="date">{{post.sharedDate| dateAsAgo }}</span>
                            <!-- <span class="time">04:20</span> -->
                        </div>
                        <!-- end timeline-time -->
                        <!-- begin timeline-icon -->
                        <div class="timeline-icon">
                            <a href="javascript:;">&nbsp;</a>
                        </div>
                        <!-- end timeline-icon -->
                        <!-- begin timeline-body -->
                        <div class="timeline-body">
                            <div class="timeline-header" >
                              <div class="row"> 
                                <div class="col-lg-8">
    
                                  <span class="userimage"><img src={{post.userImages}} alt=""></span>
                                  <span class="username" ><a [routerLink]="['personalpage',post.userName]">{{post.userName}}</a> <small></small></span>
                                </div>
    
                                <div class="col-lg-2"  *ngIf="post.userName===logged_in_username">
                                  <button class="btn delete-item" (click)="onDeletePost(i)">حذف پست</button>
                                  
                                </div>
                                <div class="col-lg-2" style="padding-right: 0;"  *ngIf="post.userName===logged_in_username">
                                  <button class="btn edit-item" (click)="onEditPostClicked(i)" >ویرایش پست</button>
    
                                </div>
    
                              </div>
                              <!-- <span class="pull-right text-muted">18 Views</span> -->
                              
                          
                            </div>
                        
          
                            <div class="timeline-content">
                              <p class="text-right mb-3" >

                                  <a style="text-decoration:underline; color:#007bff; font-size: 15px;">{{post.link}}</a>
                                
                              </p>
    
                              <p>
                                {{post.caption}}&nbsp;&nbsp;
    
                                <span *ngIf="post.discription">
    
                                  <span class="more" (click)="onMoreClicked(i)">بیشتر</span>
      
                                  <p *ngIf="isMore[post.id]">
                                    {{post.discription+'.'}}
        
                                  </p>
                                  <p *ngIf="!isMore[post.id]">
                                    
                                  </p>
                                </span>
                                
                                
                                
                              </p>
                              
                              
          
                              
                            </div>
      
                            <div class="" >
    
                                <span class="tags btn "  *ngFor="let tag of post.tags" (click)="tag_search(tag)">
                                  {{'#'+tag}}
                
                                </span>
                                  
                            </div>
                            
                            <div class="d-flex timeline-footer justify-content-between">
                            <!-- <span class="date">{{post.sharedDate | date:'h:mm' }}</span> -->
      
                              <!-- <a href="javascript:;" class="m-r-15 text-inverse-lighter"><i class="fa fa-share fa-fw fa-lg m-r-3"></i>{{post.shared}}</a> -->
                              <a  class="m-r-15 text-inverse-lighter"><i class="fa fa-comments fa-fw fa-lg m-r-3"></i>{{post.comments}}</a> 
                              <a  class="m-r-15 text-inverse-lighter"  style="text-decoration: none;">{{post.vote}}<i *ngIf="liked[post.id]" class="fa fa-heart fa-fw fa-lg m-r-3" (click)="onDissLiked(post.id)"></i><i  *ngIf="!liked[post.id]" class=" fa fa-fw fa-lg material-icons" (click)="onLiked(post.id)">favorite_border</i></a>
    
                            </div>
                            <div class="timeline-comment-box">
                              <div class="input">
                                  <form action="">
                                    <div class="input-group">
                                      <div class="custom-search-personal">
                                        <input type="text" class="custom-search-input" placeholder="">
                                        <button class="custom-search-botton" type="submit">ارسال نظر</button>  
                                      </div>
                                    
                                    </div>
                                  </form>
                              </div>
                        
          
                            </div>
                        </div>
                        <!-- end timeline-body -->
                      </div>
                      <ng-template #edited_mode>
                        <!-- begin timeline-time -->
                        <div class="timeline-time">
                         <span class="date">{{post.sharedDate| dateAsAgo }}</span>
                         <!-- <span class="time">04:20</span> -->
                        </div>
                        <!-- end timeline-time -->
                        <!-- begin timeline-icon -->
                        <div class="timeline-icon">
                            <a href="javascript:;">&nbsp;</a>
                        </div>
                        <!-- end timeline-icon -->
                        <!-- begin timeline-body -->
                        <div class="timeline-body">
                            <div class="timeline-header" >
                              <div class="row"> 
                                <div class="col-lg-8">
    
                                  <span class="userimage"><img src={{post.userImages}} alt=""></span>
                                  <span class="username" ><a [routerLink]="['personalpage',post.userName]">{{post.userName}}</a> <small></small></span>
                                </div>
    
                                <div class="col-lg-2"  *ngIf="post.userName===logged_in_username">
                                  <button class="btn delete-item" (click)="onDeletePost(i)">حذف پست</button>
                                  
                                </div>
                                <div class="col-lg-2" style="padding-right: 0;"  *ngIf="post.userName===logged_in_username">
                                  <button class="btn edit-item" (click)="onEditPostClicked(i)" >ویرایش پست</button>
    
                                </div>
    
                              </div>
                              <!-- <span class="pull-right text-muted">18 Views</span> -->
                              
                          
                            </div>
                        
                            <form class="mt-3" [formGroup]="editFormGroup"  (ngSubmit)="onClickSubmit(editFormGroup.value,i)">

                            
          
                              <div class="timeline-content">
                                <p class=" mb-3" >
                                  <textarea class="form-control mb-2 text-right" required type="text" placeholder="لینک" formControlName="link" ></textarea>

                                    <!-- <a   style="text-decoration:underline; color:#007bff; font-size: 15px;">{{post.link}}</a> -->
                                  
                                </p>
      
                                <p>
                                  <textarea class="form-control mb-2" required type="text" placeholder="متن" formControlName="caption" ></textarea>

                               
      
                                  <span *ngIf="post.discription">
      
                                    <span class="more" (click)="onMoreClicked(i)">بیشتر</span>
        
                                    <p *ngIf="isMore[post.id]">
                                      <textarea class="form-control mb-2" required type="text" placeholder="توضیحات" formControlName="discription" ></textarea>
          
                                    </p>
                                    <p *ngIf="!isMore[post.id]">
                                      
                                    </p>
                                  </span>
                                  
                                  
                                  
                                </p>
                                
                                
            
                             
            
                                
                              </div>
        
                              <div class="" >
      
                                <div class="tags btn" *ngFor="let tag of all_tags;let i=index">

                                  <p *ngIf="tag" style="margin-bottom:0px;">{{'#'+tag}}<i class="fa fa-close fa-fw fa-lg m-r-3"  (click)="onRemoveTag(i)"></i></p>
                                </div>
                                    
                              </div>

                              <div class="row mt-4">
                                <div class="col">
  
                                  <button  type="submit" class="btn btn-block btn-success" style="border-radius: 10px;" >ثبت</button>
                                </div>

                              </div>



                          </form>
                            
                         
                        </div>
                        <!-- end timeline-body -->


                      </ng-template>

      
                    </div>
                    
                    
                  </div>
                </li>
                
              </ul>
            </div>
            <ng-template #other_content>
              <ul class="timeline">

                <li *ngFor="let post of posts;let i=index">
  
                       <!-- begin timeline-time -->
                       <div class="timeline-time">
                          <span class="date">{{post.sharedDate| dateAsAgo }}</span>
                          <!-- <span class="time">04:20</span> -->
                       </div>
                       <!-- end timeline-time -->
                       <!-- begin timeline-icon -->
                       <div class="timeline-icon">
                          <a href="javascript:;">&nbsp;</a>
                       </div>
                       <!-- end timeline-icon -->
                       <!-- begin timeline-body -->
                       <div class="timeline-body">
                          <div class="timeline-header" >
                            <div class="row">

                              <div class="col-3">
    
                                <span class="userimage"><img src={{post.userImages}} alt=""></span>
                                <span class="username" ><a [routerLink]="['personalpage',post.userName]">{{post.userName}}</a> <small></small></span>
                              </div>
    
                               <!-- <span class="pull-right text-muted">18 Views</span> -->
                               

                                 <div class="col-9 text-right " *ngIf="post.userName===logged_in_username" >
      
                                   
                                   <a  class="m-r-15 text-inverse-lighter dropdown" style="color: black;"><i class=" fa fa-fw fa-lg material-icons dropdown-toggle" data-toggle="dropdown">more_vert</i>
                                    <div class="dropdown-menu">
                                      <a class="dropdown-item delete-item" (click)="onDeletePost(i)">حذف پست</a>
                                      
                                    </div></a> 
                                   
                                 </div>
                              
                            </div>
                        
                          </div>
                       
        
                          <div class="timeline-content">
                            <div class="text-right mb-3">

                              <a   style="text-decoration:underline; color:#007bff; font-size: 15px;">{{post.link}}</a>
                            </div>

                             <p>
                              {{post.caption}}&nbsp;&nbsp;
                              <span *ngIf="post.discription">

                                <span class="more" (click)="onMoreClicked(i)">بیشتر</span>
    
                                <p *ngIf="isMore[post.id]" style="text-align: justify;">
                                  {{post.discription+'.'}}
      
                                 </p>
                                 <p *ngIf="!isMore[post.id]">
                                  
                                 </p>
                              </span>
                              
                            
                           </p>
        
                            
                          </div>
     
                          <div class="" >

                              <span class="tags btn "  *ngFor="let tag of post.tags" (click)="tag_search(tag)">
                                {{'#'+tag}}
              
                              </span>
                                
                          </div>
                          
                          <div class="d-flex timeline-footer justify-content-between">
                          <!-- <span class="date">{{post.sharedDate | date:'h:mm' }}</span> -->
     
                            <!-- <a href="javascript:;" class="m-r-15 text-inverse-lighter"><i class="fa fa-share fa-fw fa-lg m-r-3"></i>{{post.shared}}</a> -->
                            <a  class="m-r-15 text-inverse-lighter" style="text-decoration: none;"><i class="fa fa-comments fa-fw fa-lg m-r-3"></i>{{post.comments}}</a> 
                            <a  class="m-r-15 text-inverse-lighter"  style="text-decoration: none;">{{post.vote}}<i *ngIf="liked[post.id]" class="fa fa-heart fa-fw fa-lg m-r-3" (click)="onDissLiked(post.id)"></i><i  *ngIf="!liked[post.id]" class=" fa fa-fw fa-lg material-icons" (click)="onLiked(post.id)">favorite_border</i></a>
                            
                          </div>
                          <div class="timeline-comment-box">
                             <div class="input">
                                <form action="">
                                   <div class="input-group">
                                    <div class="custom-search">
                                      <input type="text" class="custom-search-input" placeholder="">
                                      <button class="custom-search-botton" type="submit">ارسال نظر</button>  
                                    </div>
                                  
                                  </div>
                                </form>
                             </div>
                       
        
                          </div>
                       </div>
                       <!-- end timeline-body -->
                 </li>
              </ul>
            </ng-template>
         
         <!-- end timeline -->
      </div>
      <!-- end #profile-post tab -->
   </div>
   <!-- end tab-content -->
</div>






 

